<app-custom-preloader *ngIf="loading"></app-custom-preloader>
<div class=" faq-title text-center pb-3 pt-2 ">
  <h5>INICIAR UNA PRODUCCION</h5>
</div>

<div class="card-rounded card-header mb-2">
  <div class="ml-2 row d-flex justify-content-between d-flex align-items-center">  
      <div class="d-flex justify-content-start  d-flex align-items-center">
        <label class="mr-2 text-info">Es producción en curso</label> <p-inputSwitch [(ngModel)]="checked" class="text-info" (onChange)="handleChange($event)"></p-inputSwitch>
      </div>

      <div class="d-flex justify-content-center">
          <label class="mt-2 ml-1 mr-1">Inicio :</label>
          <p-calendar [(ngModel)]="fecha_desde"  [showTime]="true"   tabindex="0" [disabled]="!checked_iniciado" [locale]="es" dateFormat="dd/mm/yy "   [readonlyInput]="true">              
          </p-calendar> 
          <label class="mt-2 ml-2 mr-1">Fin :</label>
          <p-calendar [(ngModel)]="fecha_hasta" [showTime]="true"   tabindex="0"  [disabled] = "checked"  [locale]="es" dateFormat="dd/mm/yy "   [readonlyInput]="true">              
          </p-calendar>           
      </div>
    
     
      <div class="d-flex justify-content-end  d-flex align-items-center mr-3">
        <a (click)="guardar()" *ngIf="config.data.es_nuevo" > <i class="far fa-play-circle fa-3x icon-hover" [ngClass]="iconoColor('ACTIVO')"></i></a>             
        <a (click)="actualizar()" *ngIf="!config.data.es_nuevo" > <i class="far fa-stop-circle fa-3x icon-hover" [ngClass]="iconoColor('CANCELADO')"></i></a>             
     </div>
  </div>
 
</div>

<div class="card-rounded card-header mb-5">
  <div class="ml-2 row d-flex justify-content-between d-flex align-items-center">  
      <div class="d-flex justify-content-start">
        <label class="texto-secondary mt-2 mr-2">Máquina:</label>
        <p-dropdown [options]="maquinas" [(ngModel)]="selectedMaquina" optionLabel="maquina_nombre"></p-dropdown>       
      </div>  
      
      <div class="d-flex justify-content-end">
        <label class="mt-2 ml-1 mr-4 texto-info ">Solicitado : {{this.config.data.cantidad_solicitada}}</label>
        <label class="mt-2 ml-1 mr-4 texto-warning">Realizado : {{this.config.data.cantidad_usada}}</label>
        <label class="mt-2 ml-1 mr-1">Producido :</label>
        <div class="d-flex justify-content-center" > 
          <input type="number" [disabled] = "checked"  [(ngModel)]="producir">  
          <a  *ngIf="!checked" (click)="calcular(this.config.data,this.producir)" class="icon-hover mt-1 ml-1"> <i class="fas fa-calculator text-info fa-2x"></i></a>
           </div>       
                 
    </div> 
  </div>
 
</div>